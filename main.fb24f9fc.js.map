{"version":3,"sources":["scripts/main.js"],"names":["clicked","sort","table","document","querySelector","tHead","tBody","rows","tBodies","getSalaryNumber","salary","substr","split","join","sortable","elem","index","isClicked","newRows","Array","from","textContent","a","b","children","innerText","reverse","row","removeChild","newRow","appendChild","addEventListener","e","target","cellIndex","closest","chooseRow","activeRow","classList","remove","add","form","createElement","insertAdjacentHTML","body","append","btn","formData","getUpperCaseFirstLetter","string","toUpperCase","slice","addNewEmployer","names","position","office","age","tr","salaryForm","value","replace","getNotification","positionTop","positionRight","title","description","type","div","dataset","qa","style","top","right","setTimeout","preventDefault","firstElementChild","length","activeCell","cellValue","innerHTML","input","focus","newCellValue","ev","key"],"mappings":"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","file":"main.fb24f9fc.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst table = document.querySelector('table');\nconst tHead = table.querySelector('thead');\nconst tBody = table.querySelector('tbody');\nconst rows = table.tBodies[0].rows;\nlet clicked;\nlet sort;\n\n// function for cell's 'Salary'(from string to number);\nfunction getSalaryNumber(salary) {\n  return +salary.substr(1).split(',').join('');\n}\n\n// sort\ntHead.addEventListener('click', (e) => {\n  const index = e.target.cellIndex;\n  const elem = e.target;\n\n  clicked = (clicked === index) ? -1 : index;\n\n  sortable(elem, index, clicked === index);\n});\n\nfunction sortable(elem, index, isClicked) {\n  const newRows = Array.from(rows);\n\n  if (elem.textContent === 'Salary') {\n    sort = newRows.sort((a, b) =>\n      getSalaryNumber(b.children[index].innerText)\n      - getSalaryNumber(a.children[index].innerText));\n  } else {\n    sort = newRows.sort((a, b) =>\n      (a.children[index].innerText\n      < b.children[index].innerText)\n        ? 1\n        : -1);\n  }\n\n  if (isClicked) {\n    sort.reverse();\n  }\n\n  for (const row of rows) {\n    tBody.removeChild(row);\n  }\n\n  for (const newRow of sort) {\n    tBody.appendChild(newRow);\n  }\n};\n\n// changed color for row\n\ntable.addEventListener('click', (e) => {\n  if (e.target.closest('th')) {\n    return;\n  }\n\n  const chooseRow = e.target.closest('tr');\n  const activeRow = table.querySelector('.active');\n\n  if (activeRow) {\n    activeRow.classList.remove('active');\n  }\n  chooseRow.classList.add('active');\n});\n\n// create form\n\nconst form = document.createElement('form');\n\nform.classList.add('new-employee-form');\n\nform.insertAdjacentHTML('afterbegin', `\n  <label>Name:\n  <input name=\"name\" type=\"text\" data-qa=\"name\" required>\n  </label>\n  <label>Position:\n  <input name=\"position\" type=\"text\" data-qa=\"position\" required>\n  </label>\n  <label>Office:\n  <select name=\"office\" data-qa=\"office\" required>\n  <option value=\"Tokyo\">Tokyo</option>\n  <option value=\"Singapore\">Singapore</option>\n  <option value=\"London\">London</option>\n  <option value=\"New York\">New York</option>\n  <option value=\"Edinburgh\">Edinburgh</option>\n  <option value=\"San Francisco\">San Francisco</option>\n  </select>\n  </label>\n  <label>Age:\n  <input name=\"age\" type=\"number\" data-qa=\"age\" required>\n  </label>\n  <label>Salary:\n  <input name=\"salary\" type=\"number\" data-qa=\"salary\" required>\n  </label>\n  <button type=\"submit\">Save to table</button>\n`);\n\ndocument.body.append(form);\n\nconst btn = form.querySelector('button');\nconst formData = document.querySelector('.new-employee-form');\n\n// checking the form for filling\nbtn.addEventListener('click', (e) => {\n  e.preventDefault();\n\n  const names = formData.children[0].firstElementChild;\n  const position = formData.children[1].firstElementChild;\n  const office = formData.children[2].firstElementChild;\n  const age = formData.children[3].firstElementChild;\n  const salary = formData.children[4].firstElementChild;\n\n  if (names.value.length < 4 || !names.value) {\n    return getNotification(10, 30,\n      'Too short name',\n      'Your name should be more then 4 letters',\n      'error');\n  }\n\n  if (!position.value.length) {\n    return getNotification(110, 30,\n      'Fill your position',\n      'This field should be fill',\n      'error');\n  }\n\n  if (+age.value < 18 || +age.value > 90 || !age.value) {\n    return getNotification(220, 30,\n      'Error',\n      'Your age < 18 or more then 90',\n      'error');\n  }\n\n  if (salary.value.length < 2 || !salary.value) {\n    return getNotification(330, 30,\n      'This salary is too small',\n      'Fill salary field',\n      'error');\n  }\n\n  addNewEmployer(names, position, office, age, salary);\n\n  getNotification(10, 30,\n    'Success',\n    'New Employee added',\n    'success');\n\n  names.value = '';\n  position.value = '';\n  age.value = '';\n  salary.value = '';\n});\n\n// function for adding new employer\nfunction getUpperCaseFirstLetter(string) {\n  return string[0].toUpperCase() + string.slice(1)\n}\nfunction addNewEmployer(\n  names,\n  position,\n  office,\n  age,\n  salary) {\n  const tr = document.createElement('tr');\n  const salaryForm = '$'\n  + salary.value.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n\n  tr.insertAdjacentHTML('beforeend', `\n  <td>${getUpperCaseFirstLetter(names.value)}</td>\n  <td>${getUpperCaseFirstLetter(position.value)}</td>\n  <td>${office.value}</td>\n  <td>${age.value}</td>\n  <td>${salaryForm}</td> \n  `);\n\n  tBody.appendChild(tr);\n};\n\n// Function for notification\nfunction getNotification(positionTop, positionRight, title, description, type) {\n  const div = document.createElement('div');\n\n  div.dataset.qa = 'notification';\n  div.classList.add('notification', type);\n\n  div.insertAdjacentHTML('beforeend', `\n  <h2 class='title'>${title}</h2>\n  <p>${description}</p>\n  `);\n\n  div.style.top = positionTop + 'px';\n  div.style.right = positionRight + 'px';\n\n  document.body.append(div);\n  setTimeout(() => div.remove(), 2000);\n};\n\n// change cells\ntBody.addEventListener('dblclick', e => {\n  const activeCell = e.target;\n  const cellValue = activeCell.innerHTML;\n\n  activeCell.innerHTML = '';\n\n  activeCell.insertAdjacentHTML('beforeend', `\n    <input class=\"cell-input\">\n  `);\n\n  const input = activeCell.querySelector('input');\n\n  input.focus();\n\n  const newCellValue = () => {\n    if (input.value === '') {\n      activeCell.innerHTML = cellValue;\n    } else {\n      activeCell.innerHTML = input.value;\n    }\n  };\n\n  input.addEventListener('focusout', newCellValue);\n\n  input.addEventListener('keydown', (ev) => {\n    if (ev.key === 'Enter') {\n      newCellValue();\n    }\n  });\n});\n"]}